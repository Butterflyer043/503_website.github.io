---
title: "A5_5"
author: "Xueyan Liu"
date: "10/23/2020"
output: html_document
---


## Explore the validity of the data for the case whether or not an account has a credit card and whether or not they have associated credit card transactions. Is there anything worth noting?


```{r message=FALSE, warning=FALSE}
# import lib and data
library(dplyr)
library(ggplot2)
library(ggpubr)
library(reshape2)

df = read.csv("accounts_analytical.csv")
df2 = read.csv("transactions.csv")
```


```{r}
# verify whether there the account has credit_cards 
df3 = df %>% mutate(if_crcard = ifelse(is.na(credit_cards), 'no cr', 'has cr')) 
# compute the number of credit card transaction
df4 = df2 %>% count(account_id,method)%>% filter(method=="credit card")

df_new = df3[,c("account_id","if_crcard")]  %>% 
  left_join(df4[,c("account_id","n")], by = "account_id") %>% 
  mutate(if_crcardtxn = ifelse(is.na(n),  'has txn','no txn')) 
table1 = table(df_new$if_crcard,df_new$if_crcardtxn)
plot(table1,color = c("#69b3a2", "#404080" ),main="")

```



By the plot above, we can clear see that even though some accounts do not have credit cards, they still have  credit card transactions. 
